## Table of Contents
- [Installation](#installation)
- [Calibration](#calibration)
- [Examples](#examples)
- [License](#license)
- [Contact](#contact)

### Required Packages

- OpenCV Contrib package (Version 4.5.5.62, LATEST VERSION DOES NOT WORK)
- NumPy (Version 1.26.4, NumPy 2 DOES NOT WORK)

Before installing packages, uninstall any current versions of NumPy and OpenCV. OpenCV contrib python cannot be installed with OpenCV python also installed, only have one version of OpenCV installed.

```sh
pip uninstall opencv-python
pip uninstall numpy
```

## Installation

To get started with this project, follow these steps:

  Download the repository as a zip folder OR using git
  
  1. Clone the repository [will download in the active directory, default on windows will be under ```"C:\Users\user"```]:
      ```sh
      git clone https://github.com/SmartFactoryBelievers/STEM_Day.git
      ```
  2. Navigate to the project directory:
      ```sh
      cd STEM_Day/ArUco_Project
      ```
  3. Install the required dependencies:
      ```sh
      pip install -r requirements.txt
      ```

## Calibration

The folder `Calib_Data` can be generated by running the two calibration files. The purpose is to get the camera data which can be slightly different between cameras of the same model, but can work as a close enough approximation with greater margins of error than if you run the calibration scripts yourself.

1. Print or download the 7x10 checkerboard.
2. Run the `calibrate_generate_images.py` script. You will need to take ~10 photos with the checkerboard in various positions (slightly tilted, off-center, and in different quadrants of the camera). Press the `s` key on your keyboard (ensure CAPS lock is off) to save images. On program end, the script will create a folder (or save to an existing one) called `Calib_Imgs`.
3. Before running the `calibrate_gen_matrix.py` script, there are a couple of variables that will need to be modified:
    - Change the `SQUARE_SIZE` variable to the measurement of one square on your chessboard (in millimeters).
    - The `calib_data_path` variable is the path where the generated data will be saved.
    - The `image_dir_path` variable is where your images are stored, the `Calib_Imgs` folder from the previous step goes here.

## Examples

### ArUcoReader.py

- Needs to be in the same directory as the project you want to launch.
- Code between the function `process_marker_data` is the loop that should be edited for logic that is reliant on the ArUco tag being read.
- In the Examples folder are two ArUco tags that can be used (ID 0 and 1), print them on paper for the most consistent read.

### Drive_Certain_Distance.py, Find_And_Drive.py, Read_ArUco.py

- Have two variables that will need to be modified:
    - The `calib_data_path` variable is the same path from the calibration step.
    - The `marker_size` variable is the size of the ArUco that will be read. If testing multiple codes, print them the same size. This variable is in centimeters.
- `Drive_Certain_Distance.py` just sees if a code is in its camera view and drives forward until it's 10 inches away from the ArUco.
- `Find_And_Drive.py` turns until it identifies a code and then drives toward the ArUco.
- `Read_ArUco.py` just reads ArUco's codes. It is recommended to use this as a base for any other programs that will interact with the ArUcoReader script.
- ArUcoReader script is set to use 6x6 ArUco codes.

## License

This repository is licensed under the Deloitte Copyright. See the LICENSE file for more information.

## Contact

If you have any questions or need further assistance, feel free to reach out to us at contact@smartfactorybelievers.com. Thank you for your interest in SmartRoverProjects! We look forward to your contributions and feedback.

